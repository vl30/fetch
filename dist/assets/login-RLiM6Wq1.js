import{_ as g,r as i,o as p,c as u,a as r,b as s,d,g as f,v as S,w as h,t as v,i as y}from"./bootstrap.bundle.min-DPQfDspY.js";const w={class:"loginBox"},_={class:"inputBox"},x={key:0,class:"error-message"},I={key:1,class:"success-message"},k={__name:"login",setup(b){const o=i(""),a=i(""),l=i("");let t=i(null);p(async()=>{const n=await fetch("http://localhost:3001/api/siswa");t.value=await n.json()});const c=()=>{if(a.value="",l.value="",!o.value){a.value="Please enter NIS";return}if(Array.isArray(t.value)){const n=t.value.find(e=>e.nis===o.value);n?(localStorage.setItem("loggedInStudent",JSON.stringify(n)),l.value=`Welcome, ${n.nama}!`,setTimeout(()=>window.location.href="/dashboard",1500)):a.value="NIS tidak di temukan"}else t.value&&t.value.nis===o.value?(localStorage.setItem("loggedInStudent",JSON.stringify(t.value)),l.value=`Welcome, ${t.value.nama}!`,setTimeout(()=>window.location.href="/dashboard",1500)):a.value="NIS tidak di temukan"};return(n,e)=>(r(),u("div",w,[e[2]||(e[2]=s("img",{class:"user",src:"https://i.ibb.co/yVGxFPR/2.png",height:"100px",width:"100px"},null,-1)),e[3]||(e[3]=s("h3",null,"Sign in here",-1)),s("form",{onSubmit:h(c,["prevent"])},[s("div",_,[f(s("input",{id:"uname",type:"text",name:"Username",placeholder:"NIS","onUpdate:modelValue":e[0]||(e[0]=m=>o.value=m),required:""},null,512),[[S,o.value]])]),e[1]||(e[1]=s("input",{type:"submit",name:"",value:"Login"},null,-1))],32),a.value?(r(),u("div",x,v(a.value),1)):d("",!0),l.value?(r(),u("div",I,v(l.value),1)):d("",!0),e[4]||(e[4]=s("div",{class:"text-center"},[s("a",{style:{color:"#59238f"},href:"/register"},"Sign-Up")],-1))]))}},N=g(k,[["__scopeId","data-v-1d37d638"]]);y(N).mount("#login");
